!function(n){var o={};function r(e){var t;return(o[e]||(t=o[e]={i:e,l:!1,exports:{}},n[e].call(t.exports,t,t.exports,r),t.l=!0,t)).exports}r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=24)}([function(e,n,t){"use strict";function o(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),o(t(26)),o(t(27)),o(t(28)),o(t(29))},function(e,n,t){"use strict";function o(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),o(t(10)),o(t(30)),o(t(11)),o(t(12)),o(t(31)),o(t(32)),o(t(7)),o(t(13)),o(t(33)),o(t(34))},function(e,t,n){"use strict";var u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&o>=e.length?void 0:e)&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function o(){}Object.defineProperty(t,"__esModule",{value:!0}),o.prototype.clone=function(){var n=this,o=new this.constructor;return Object.keys(this).forEach(function(e){var t=n.deepClone(n[e]);void 0!==t&&(o[e]=t)}),o},o.prototype.deepClone=function(e){var t,n,o=typeof e;if("number"==o||"string"==o||"boolean"==o)return e;if(null!==e&&"object"==o){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){var r=[];try{for(var s=u(e),i=s.next();!i.done;i=s.next()){var a=i.value;r.push(this.deepClone(a))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return e instanceof Array?r:new e.constructor(r)}var c,l={};for(c in e)e.hasOwnProperty(c)&&(l[c]=this.deepClone(e[c]));return l}},t.Cloneable=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);function r(){}r.encode=function(e,t){var n;if((n=(e="string"==typeof e?parseInt(e,10):e).toString(2)).length>t||e<0)throw new o.EncodingError(e+" too large to encode into "+t);return n=n.length<t?"0".repeat(t-n.length)+n:n},r.decode=function(e,t){if(t!==e.length)throw new o.DecodingError("invalid bit length");return parseInt(e,2)},t.IntEncoder=r},function(e,t,n){"use strict";function o(){}Object.defineProperty(t,"__esModule",{value:!0}),o.encode=function(e){return+e+""},o.decode=function(e){return"1"===e},t.BooleanEncoder=o},function(e,n,t){"use strict";function o(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),o(t(9)),o(t(6)),o(t(35)),o(t(39)),o(t(14)),o(t(20))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,s,i,a,c,l,u,d,p,f,g,h,v,y,m,b,n=n(1);function _(){}o=n.Fields.cmpId,r=n.Fields.cmpVersion,s=n.Fields.consentLanguage,i=n.Fields.consentScreen,a=n.Fields.created,c=n.Fields.isServiceSpecific,l=n.Fields.lastUpdated,u=n.Fields.policyVersion,d=n.Fields.publisherCountryCode,p=n.Fields.publisherLegitimateInterests,f=n.Fields.publisherConsents,g=n.Fields.purposeConsents,h=n.Fields.purposeLegitimateInterests,v=n.Fields.purposeOneTreatment,y=n.Fields.specialFeatureOptins,m=n.Fields.useNonStandardStacks,b=n.Fields.vendorListVersion,n=n.Fields.version,_[o]=12,_[r]=12,_[s]=12,_[i]=6,_[a]=36,_[c]=1,_[l]=36,_[u]=6,_[d]=12,_[p]=24,_[f]=24,_[g]=24,_[h]=24,_[v]=1,_[y]=12,_[m]=1,_[b]=12,_[n]=6,_.anyBoolean=1,_.encodingType=1,_.maxId=16,_.numCustomPurposes=6,_.numEntries=12,_.numRestrictions=12,_.purposeId=6,_.restrictionType=2,_.segmentType=3,_.singleOrRange=1,_.vendorId=16,t.BitLength=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.RestrictionType||(t.RestrictionType={}))[t.NOT_ALLOWED=0]="NOT_ALLOWED",t[t.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",t[t.REQUIRE_LI=2]="REQUIRE_LI"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),s=n(0),i=n(1);function o(){}o.encode=function(e,t){for(var n="",o=1;o<=t;o++)n+=r.BooleanEncoder.encode(e.has(o));return n},o.decode=function(e,t){if(e.length!==t)throw new s.DecodingError("bitfield encoding length mismatch");for(var n=new i.Vector,o=1;o<=t;o++)r.BooleanEncoder.decode(e[o-1])&&n.set(o);return n.bitLength=e.length,n},t.FixedVectorEncoder=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);function o(){}o.encode=function(e){if(!/^[0-1]+$/.test(e))throw new r.EncodingError("Invalid bitField");var t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";for(var n="",o=0;o<e.length;o+=this.BASIS)n+=this.DICT[parseInt(e.substr(o,this.BASIS),2)];return n},o.decode=function(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new r.DecodingError("Invalidly encoded Base64URL string");for(var t="",n=0;n<e.length;n++){var o=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-o.length)+o}return t},o.DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",o.REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]),o.BASIS=6,o.LCM=24,t.Base64Url=o},function(e,t,n){"use strict";var o,r,s=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),n=(Object.defineProperty(t,"__esModule",{value:!0}),n(2)),n=(r=n.Cloneable,s(i,r),i.prototype.isEmpty=function(){return!this.root},i.prototype.add=function(e){var t,n={value:e,left:null,right:null};if(this.isEmpty())this.root=n;else for(t=this.root;;)if(e<t.value){if(null===t.left){t.left=n;break}t=t.left}else{if(!(e>t.value))break;if(null===t.right){t.right=n;break}t=t.right}},i.prototype.get=function(){for(var e=[],t=this.root;t;)if(t.left){for(var n=t.left;n.right&&n.right!=t;)n=n.right;t=n.right==t?(n.right=null,e.push(t.value),t.right):(n.right=t).left}else e.push(t.value),t=t.right;return e},i.prototype.contains=function(e){for(var t=!1,n=this.root;n;){if(n.value===e){t=!0;break}e>n.value?n=n.right:e<n.value&&(n=n.left)}return t},i.prototype.min=function(e){var t;for(void 0===e&&(e=this.root);e;)e=e.left||(t=e.value,null);return t},i.prototype.max=function(e){var t;for(void 0===e&&(e=this.root);e;)e=e.right||(t=e.value,null);return t},i.prototype.remove=function(e,t){void 0===t&&(t=this.root);for(var n,o=null,r="left";t;)e<t.value?(t=(o=t).left,r="left"):e>t.value?(t=(o=t).right,r="right"):(t.left||t.right?t.left?t.right?(n=this.min(t.right),this.remove(n,t.right),t.value=n):o?o[r]=t.left:this.root=t.left:o?o[r]=t.right:this.root=t.right:o?o[r]=null:this.root=null,t=null)},i);function i(){var e=null!==r&&r.apply(this,arguments)||this;return e.root=null,e}t.BinarySearchTree=n},function(e,t,n){"use strict";function o(){}Object.defineProperty(t,"__esModule",{value:!0}),o.cmpId="cmpId",o.cmpVersion="cmpVersion",o.consentLanguage="consentLanguage",o.consentScreen="consentScreen",o.created="created",o.supportOOB="supportOOB",o.isServiceSpecific="isServiceSpecific",o.lastUpdated="lastUpdated",o.numCustomPurposes="numCustomPurposes",o.policyVersion="policyVersion",o.publisherCountryCode="publisherCountryCode",o.publisherCustomConsents="publisherCustomConsents",o.publisherCustomLegitimateInterests="publisherCustomLegitimateInterests",o.publisherLegitimateInterests="publisherLegitimateInterests",o.publisherConsents="publisherConsents",o.publisherRestrictions="publisherRestrictions",o.purposeConsents="purposeConsents",o.purposeLegitimateInterests="purposeLegitimateInterests",o.purposeOneTreatment="purposeOneTreatment",o.specialFeatureOptins="specialFeatureOptins",o.useNonStandardStacks="useNonStandardStacks",o.vendorConsents="vendorConsents",o.vendorLegitimateInterests="vendorLegitimateInterests",o.vendorListVersion="vendorListVersion",o.vendorsAllowed="vendorsAllowed",o.vendorsDisclosed="vendorsDisclosed",o.version="version",t.Fields=o},function(e,t,n){"use strict";var o,r,s=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=(Object.defineProperty(t,"__esModule",{value:!0}),n(2)),a=n(0),c=n(7),n=(r=i.Cloneable,s(l,r),l.unHash=function(e){var t=e.split(this.hashSeparator),n=new l;if(2!==t.length)throw new a.TCModelError("hash",e);return n.purposeId=parseInt(t[0],10),n.restrictionType=parseInt(t[1],10),n},Object.defineProperty(l.prototype,"hash",{get:function(){if(this.isValid())return""+this.purposeId+l.hashSeparator+this.restrictionType;throw new Error("cannot hash invalid PurposeRestriction")},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"purposeId",{get:function(){return this.purposeId_},set:function(e){this.purposeId_=e},enumerable:!0,configurable:!0}),l.prototype.isValid=function(){return Number.isInteger(this.purposeId)&&0<this.purposeId&&(this.restrictionType===c.RestrictionType.NOT_ALLOWED||this.restrictionType===c.RestrictionType.REQUIRE_CONSENT||this.restrictionType===c.RestrictionType.REQUIRE_LI)},l.prototype.isSameAs=function(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType},l.hashSeparator="-",l);function l(e,t){var n=r.call(this)||this;return void 0!==e&&(n.purposeId=e),void 0!==t&&(n.restrictionType=t),n}t.PurposeRestriction=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.Segment||(t.Segment={})).CORE="core",t.VENDORS_DISCLOSED="vendorsDisclosed",t.VENDORS_ALLOWED="vendorsAllowed",t.PUBLISHER_TC="publisherTC"},function(e,n,t){"use strict";function o(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),o(t(4)),o(t(15)),o(t(36)),o(t(8)),o(t(3)),o(t(16)),o(t(17)),o(t(19)),o(t(18))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n(0);function s(){}s.encode=function(e,t){return o.IntEncoder.encode(Math.round(e.getTime()/100),t)},s.decode=function(e,t){if(t!==e.length)throw new r.DecodingError("invalid bit length");var n=new Date;return n.setTime(100*o.IntEncoder.decode(e,t)),n},t.DateEncoder=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),s=n(0);function o(){}o.encode=function(e,t){var n=(e=e.toUpperCase()).charCodeAt(0)-65,o=e.charCodeAt(1)-65;if(n<0||25<n||o<0||25<o)throw new s.EncodingError("invalid language code: "+e);if(t%2==1)throw new s.EncodingError("numBits must be even, "+t+" is not valid");return r.IntEncoder.encode(n,t/=2)+r.IntEncoder.encode(o,t)},o.decode=function(e,t){if(t!==e.length||e.length%2)throw new s.DecodingError("invalid bit length for language");var t=e.length/2,n=r.IntEncoder.decode(e.slice(0,t),t)+65,e=r.IntEncoder.decode(e.slice(t),t)+65;return String.fromCharCode(n)+String.fromCharCode(e)},t.LangEncoder=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=n(6),h=n(4),v=n(0),y=n(3),m=n(1);function o(){}o.encode=function(d){var p=y.IntEncoder.encode(d.numRestrictions,g.BitLength.numRestrictions);return d.isEmpty()||d.getRestrictions().forEach(function(e){p=(p+=y.IntEncoder.encode(e.purposeId,g.BitLength.purposeId))+y.IntEncoder.encode(e.restrictionType,g.BitLength.restrictionType);for(var t,n,o,r,s=d.getVendors(e),i=s.length,a=0,c=0,l="",u=0;u<i;u++)r=o=n=void 0,n=s[t=u],0===c&&(a++,c=n),o=s[i-1],r=d.gvl.vendorIds,(t===i-1||s[t+1]>function(e){for(;++e<=o&&!r.has(e););return e}(n))&&(t=!(n===c),l=(l+=h.BooleanEncoder.encode(t))+y.IntEncoder.encode(c,g.BitLength.vendorId),t&&(l+=y.IntEncoder.encode(n,g.BitLength.vendorId)),c=0);p=(p+=y.IntEncoder.encode(a,g.BitLength.numEntries))+l}),p},o.decode=function(e){var t=0,n=new m.PurposeRestrictionVector,o=y.IntEncoder.decode(e.substr(t,g.BitLength.numRestrictions),g.BitLength.numRestrictions);t+=g.BitLength.numRestrictions;for(var r=0;r<o;r++){var s=y.IntEncoder.decode(e.substr(t,g.BitLength.purposeId),g.BitLength.purposeId),i=(t+=g.BitLength.purposeId,y.IntEncoder.decode(e.substr(t,g.BitLength.restrictionType),g.BitLength.restrictionType)),a=(t+=g.BitLength.restrictionType,new m.PurposeRestriction(s,i)),c=y.IntEncoder.decode(e.substr(t,g.BitLength.numEntries),g.BitLength.numEntries);t+=g.BitLength.numEntries;for(var l=0;l<c;l++){var u=h.BooleanEncoder.decode(e.substr(t,g.BitLength.anyBoolean)),d=(t+=g.BitLength.anyBoolean,y.IntEncoder.decode(e.substr(t,g.BitLength.vendorId),g.BitLength.vendorId));if(t+=g.BitLength.vendorId,u){var p=y.IntEncoder.decode(e.substr(t,g.BitLength.vendorId),g.BitLength.vendorId);if(t+=g.BitLength.vendorId,p<d)throw new v.DecodingError("Invalid RangeEntry: endVendorId "+p+" is less than "+d);for(var f=d;f<=p;f++)n.add(f,a)}else n.add(d,a)}}return n.bitLength=t,n},t.PurposeRestrictionVectorEncoder=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=n(1),f=n(5),g=n(3),h=n(4),v=n(8),y=n(19),m=n(0);function o(){}o.encode=function(n){var o,r=[],s=[],e=g.IntEncoder.encode(n.maxId,f.BitLength.maxId),i="",t=f.BitLength.maxId+f.BitLength.encodingType,a=t+n.maxId,c=2*f.BitLength.vendorId+f.BitLength.singleOrRange+f.BitLength.numEntries,l=t+f.BitLength.numEntries;return n.forEach(function(e,t){i+=h.BooleanEncoder.encode(e),(o=n.maxId>c&&l<a)&&e&&(n.has(t+1)?0===s.length&&(s.push(t),l=(l+=f.BitLength.singleOrRange)+f.BitLength.vendorId):(s.push(t),l+=f.BitLength.vendorId,r.push(s),s=[]))}),o?e=(e+=y.VectorEncodingType.RANGE+"")+this.buildRangeEncoding(r):e=(e+=y.VectorEncodingType.FIELD+"")+i,e},o.decode=function(e,t){var n,o=0,r=g.IntEncoder.decode(e.substr(o,f.BitLength.maxId),f.BitLength.maxId),s=(o+=f.BitLength.maxId,g.IntEncoder.decode(e.charAt(o),f.BitLength.encodingType));if(o+=f.BitLength.encodingType,s===y.VectorEncodingType.RANGE){if(n=new p.Vector,1===t){if("1"===e.substr(o,1))throw new m.DecodingError("Unable to decode default consent=1");o++}var i=g.IntEncoder.decode(e.substr(o,f.BitLength.numEntries),f.BitLength.numEntries);o+=f.BitLength.numEntries;for(var a=0;a<i;a++){var c=h.BooleanEncoder.decode(e.charAt(o)),l=(o+=f.BitLength.singleOrRange,g.IntEncoder.decode(e.substr(o,f.BitLength.vendorId),f.BitLength.vendorId));if(o+=f.BitLength.vendorId,c){var u=g.IntEncoder.decode(e.substr(o,f.BitLength.vendorId),f.BitLength.vendorId);o+=f.BitLength.vendorId;for(var d=l;d<=u;d++)n.set(d)}else n.set(l)}}else{s=e.substr(o,r);o+=r,n=v.FixedVectorEncoder.decode(s,r)}return n.bitLength=o,n},o.buildRangeEncoding=function(e){var t=e.length,n=g.IntEncoder.encode(t,f.BitLength.numEntries);return e.forEach(function(e){var t=1===e.length;n=(n+=h.BooleanEncoder.encode(!t))+g.IntEncoder.encode(e[0],f.BitLength.vendorId),t||(n+=g.IntEncoder.encode(e[1],f.BitLength.vendorId))}),n},t.VendorVectorEncoder=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.VectorEncodingType||(t.VectorEncodingType={}))[t.FIELD=0]="FIELD",t[t.RANGE=1]="RANGE"},function(e,n,t){"use strict";function o(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),o(t(37)),o(t(38))},function(e,t,n){"use strict";var o,r,s=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,i,a,c){return new(a=a||Promise)(function(n,t){function o(e){try{s(c.next(e))}catch(e){t(e)}}function r(e){try{s(c.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(o,r)}s((c=c.apply(e,i||[])).next())})},a=this&&this.__generator||function(o,r){var s,i,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(s)throw new TypeError("Generator is already executing.");for(;c;)try{if(s=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=r.call(o,c)}catch(e){t=[6,e],i=0}finally{s=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},c=(Object.defineProperty(t,"__esModule",{value:!0}),n(2)),l=n(0),u=n(22),n=n(1),c=(r=c.Cloneable,s(d,r),Object.defineProperty(d,"baseUrl",{get:function(){return this.baseUrl_},set:function(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new l.GVLError("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");0<e.length&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e},enumerable:!0,configurable:!0}),d.emptyLanguageCache=function(e){var t=!1;return void 0===e&&0<d.LANGUAGE_CACHE.size?(d.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(d.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t},d.emptyCache=function(e){var t=!1;return Number.isInteger(e)&&0<=e?(d.CACHE.delete(e),t=!0):void 0===e&&(d.CACHE=new Map,t=!0),t},d.prototype.cacheLanguage=function(){d.LANGUAGE_CACHE.has(this.lang_)||d.LANGUAGE_CACHE.set(this.lang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})},d.prototype.fetchJson=function(o){return i(this,void 0,void 0,function(){var t,n;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=this.populate,[4,u.Json.fetch(o)];case 1:return t.apply(this,[e.sent()]),[3,3];case 2:throw n=e.sent(),new l.GVLError(n.message);case 3:return[2]}})})},d.prototype.getJson=function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))},d.prototype.changeLanguage=function(s){return i(this,void 0,void 0,function(){var t,n,o,r;return a(this,function(e){switch(e.label){case 0:if(r=s.toUpperCase(),!d.consentLanguages.has(r))return[3,6];if(r!==this.lang_){if(this.lang_=r,!d.LANGUAGE_CACHE.has(r))return[3,1];for(n in t=d.LANGUAGE_CACHE.get(r))t.hasOwnProperty(n)&&(this[n]=t[n])}return[3,5];case 1:o=d.baseUrl+d.languageFilename.replace("[LANG]",s),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this.fetchJson(o)];case 3:return e.sent(),this.cacheLanguage(),[3,5];case 4:throw r=e.sent(),new l.GVLError("unable to load language: "+r.message);case 5:return[3,7];case 6:throw new l.GVLError("unsupported language "+s);case 7:return[2]}})})},Object.defineProperty(d.prototype,"language",{get:function(){return this.lang_},enumerable:!0,configurable:!0}),d.prototype.isVendorList=function(e){return void 0!==e&&void 0!==e.vendors},d.prototype.populate=function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&d.CACHE.set(d.LATEST_CACHE_KEY,this.getJson()),d.CACHE.has(this.vendorListVersion)||d.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()},d.prototype.mapVendors=function(e){var o=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach(function(e){o.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}}),Object.keys(this.specialPurposes).forEach(function(e){o.bySpecialPurposeVendorMap[e]=new Set}),Object.keys(this.features).forEach(function(e){o.byFeatureVendorMap[e]=new Set}),Object.keys(this.specialFeatures).forEach(function(e){o.bySpecialFeatureVendorMap[e]=new Set}),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map(function(e){return+e})),this.vendorIds=new Set(e),this.vendors_=e.reduce(function(e,t){var n=o.vendors_[""+t];return n&&void 0===n.deletedDate&&(n.purposes.forEach(function(e){o.byPurposeVendorMap[e+""].consent.add(t)}),n.specialPurposes.forEach(function(e){o.bySpecialPurposeVendorMap[e+""].add(t)}),n.legIntPurposes.forEach(function(e){o.byPurposeVendorMap[e+""].legInt.add(t)}),n.flexiblePurposes&&n.flexiblePurposes.forEach(function(e){o.byPurposeVendorMap[e+""].flexible.add(t)}),n.features.forEach(function(e){o.byFeatureVendorMap[e+""].add(t)}),n.specialFeatures.forEach(function(e){o.bySpecialFeatureVendorMap[e+""].add(t)}),e[t]=n),e},{})},d.prototype.getFilteredVendors=function(e,t,n,o){var r=this,s=e.charAt(0).toUpperCase()+e.slice(1),i={};return("purpose"===e&&n?this["by"+s+"VendorMap"][t+""][n]:this["by"+(o?"Special":"")+s+"VendorMap"][t+""]).forEach(function(e){i[e+""]=r.vendors[e+""]}),i},d.prototype.getVendorsWithConsentPurpose=function(e){return this.getFilteredVendors("purpose",e,"consent")},d.prototype.getVendorsWithLegIntPurpose=function(e){return this.getFilteredVendors("purpose",e,"legInt")},d.prototype.getVendorsWithFlexiblePurpose=function(e){return this.getFilteredVendors("purpose",e,"flexible")},d.prototype.getVendorsWithSpecialPurpose=function(e){return this.getFilteredVendors("purpose",e,void 0,!0)},d.prototype.getVendorsWithFeature=function(e){return this.getFilteredVendors("feature",e)},d.prototype.getVendorsWithSpecialFeature=function(e){return this.getFilteredVendors("feature",e,void 0,!0)},Object.defineProperty(d.prototype,"vendors",{get:function(){return this.vendors_},enumerable:!0,configurable:!0}),d.prototype.narrowVendorsTo=function(e){this.mapVendors(e)},Object.defineProperty(d.prototype,"isReady",{get:function(){return this.isReady_},enumerable:!0,configurable:!0}),d.prototype.clone=function(){var e=new d(this.getJson());return this.lang_!==d.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e},d.isInstanceOf=function(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo},d.LANGUAGE_CACHE=new Map,d.CACHE=new Map,d.LATEST_CACHE_KEY=0,d.DEFAULT_LANGUAGE="EN",d.consentLanguages=new n.ConsentLanguages,d.latestFilename="vendor-list.json",d.versionedFilename="archives/vendor-list-v[VERSION].json",d.languageFilename="purposes-[LANG].json",d);function d(e){var t=r.call(this)||this,n=(t.isReady_=!1,t.isLatest=!1,d.baseUrl);if(t.lang_=d.DEFAULT_LANGUAGE,t.isVendorList(e))t.populate(e),t.readyPromise=Promise.resolve();else{if(!n)throw new l.GVLError("must specify GVL.baseUrl before loading GVL json");0<e?d.CACHE.has(e=e)?(t.populate(d.CACHE.get(e)),t.readyPromise=Promise.resolve()):(n+=d.versionedFilename.replace("[VERSION]",e+""),t.readyPromise=t.fetchJson(n)):d.CACHE.has(d.LATEST_CACHE_KEY)?(t.populate(d.CACHE.get(d.LATEST_CACHE_KEY)),t.readyPromise=Promise.resolve()):(t.isLatest=!0,t.readyPromise=t.fetchJson(n+d.latestFilename))}return t}t.GVL=c},function(e,t,n){"use strict";function o(){}Object.defineProperty(t,"__esModule",{value:!0}),o.absCall=function(e,r,s,i){return new Promise(function(t,n){var o=new XMLHttpRequest;o.withCredentials=s,o.addEventListener("load",function(){if(o.readyState==XMLHttpRequest.DONE)if(200<=o.status&&o.status<300){var e=o.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}t(e)}else n(new Error("HTTP Status: "+o.status+" response type: "+o.responseType))}),o.addEventListener("error",function(){n(new Error("error"))}),o.addEventListener("abort",function(){n(new Error("aborted"))}),null===r?o.open("GET",e,!0):o.open("POST",e,!0),o.responseType="json",o.timeout=i,o.ontimeout=function(){n(new Error("Timeout "+i+"ms "+e))},o.send(r)})},o.post=function(e,t,n,o){return void 0===n&&(n=!1),void 0===o&&(o=0),this.absCall(e,JSON.stringify(t),n,o)},o.fetch=function(e,t,n){return this.absCall(e,null,t=void 0===t?!1:t,n=void 0===n?0:n)},t.Json=o},function(e,t,n){"use strict";var o,r,s=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=(Object.defineProperty(t,"__esModule",{value:!0}),n(2)),a=n(0),c=n(21),l=n(1),n=(r=i.Cloneable,s(u,r),Object.defineProperty(u.prototype,"gvl",{get:function(){return this.gvl_},set:function(e){c.GVL.isInstanceOf(e)||(e=new c.GVL(e)),this.gvl_=e,this.publisherRestrictions.gvl=e},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"cmpId",{get:function(){return this.cmpId_},set:function(e){if(!(Number.isInteger(+e)&&1<e))throw new a.TCModelError("cmpId",e);this.cmpId_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"cmpVersion",{get:function(){return this.cmpVersion_},set:function(e){if(!(Number.isInteger(+e)&&-1<e))throw new a.TCModelError("cmpVersion",e);this.cmpVersion_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"consentScreen",{get:function(){return this.consentScreen_},set:function(e){if(!(Number.isInteger(+e)&&-1<e))throw new a.TCModelError("consentScreen",e);this.consentScreen_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"consentLanguage",{get:function(){return this.consentLanguage_},set:function(e){this.consentLanguage_=e},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"publisherCountryCode",{get:function(){return this.publisherCountryCode_},set:function(e){if(!/^([A-z]){2}$/.test(e))throw new a.TCModelError("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"vendorListVersion",{get:function(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_},set:function(e){if((e=+e>>0)<0)throw new a.TCModelError("vendorListVersion",e);this.vendorListVersion_=e},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"policyVersion",{get:function(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_},set:function(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new a.TCModelError("policyVersion",e)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"version",{get:function(){return this.version_},set:function(e){this.version_=parseInt(e,10)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isServiceSpecific",{get:function(){return this.isServiceSpecific_},set:function(e){this.isServiceSpecific_=e},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"useNonStandardStacks",{get:function(){return this.useNonStandardStacks_},set:function(e){this.useNonStandardStacks_=e},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"supportOOB",{get:function(){return this.supportOOB_},set:function(e){this.supportOOB_=e},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"purposeOneTreatment",{get:function(){return this.purposeOneTreatment_},set:function(e){this.purposeOneTreatment_=e},enumerable:!0,configurable:!0}),u.prototype.setAllVendorConsents=function(){this.vendorConsents.set(this.gvl.vendors)},u.prototype.unsetAllVendorConsents=function(){this.vendorConsents.empty()},u.prototype.setAllVendorsDisclosed=function(){this.vendorsDisclosed.set(this.gvl.vendors)},u.prototype.unsetAllVendorsDisclosed=function(){this.vendorsDisclosed.empty()},u.prototype.setAllVendorsAllowed=function(){this.vendorsAllowed.set(this.gvl.vendors)},u.prototype.unsetAllVendorsAllowed=function(){this.vendorsAllowed.empty()},u.prototype.setAllVendorLegitimateInterests=function(){this.vendorLegitimateInterests.set(this.gvl.vendors)},u.prototype.unsetAllVendorLegitimateInterests=function(){this.vendorLegitimateInterests.empty()},u.prototype.setAllPurposeConsents=function(){this.purposeConsents.set(this.gvl.purposes)},u.prototype.unsetAllPurposeConsents=function(){this.purposeConsents.empty()},u.prototype.setAllPurposeLegitimateInterests=function(){this.purposeLegitimateInterests.set(this.gvl.purposes)},u.prototype.unsetAllPurposeLegitimateInterests=function(){this.purposeLegitimateInterests.empty()},u.prototype.setAllSpecialFeatureOptins=function(){this.specialFeatureOptins.set(this.gvl.specialFeatures)},u.prototype.unsetAllSpecialFeatureOptins=function(){this.specialFeatureOptins.empty()},u.prototype.setAll=function(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()},u.prototype.unsetAll=function(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()},Object.defineProperty(u.prototype,"numCustomPurposes",{get:function(){var e,t=this.numCustomPurposes_;return"object"==typeof this.customPurposes&&(e=Object.keys(this.customPurposes).sort(function(e,t){return+e-+t}),t=parseInt(e.pop(),10)),t},set:function(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new a.TCModelError("numCustomPurposes",e)},enumerable:!0,configurable:!0}),u.prototype.updated=function(){var e=new Date,e=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=e,this.lastUpdated=e},u.consentLanguages=c.GVL.consentLanguages,u);function u(e){var t=r.call(this)||this;return t.isServiceSpecific_=!1,t.supportOOB_=!0,t.useNonStandardStacks_=!1,t.purposeOneTreatment_=!1,t.publisherCountryCode_="AA",t.version_=2,t.consentScreen_=0,t.policyVersion_=2,t.consentLanguage_="EN",t.cmpId_=0,t.cmpVersion_=0,t.vendorListVersion_=0,t.numCustomPurposes_=0,t.specialFeatureOptins=new l.Vector,t.purposeConsents=new l.Vector,t.purposeLegitimateInterests=new l.Vector,t.publisherConsents=new l.Vector,t.publisherLegitimateInterests=new l.Vector,t.publisherCustomConsents=new l.Vector,t.publisherCustomLegitimateInterests=new l.Vector,t.vendorConsents=new l.Vector,t.vendorLegitimateInterests=new l.Vector,t.vendorsDisclosed=new l.Vector,t.vendorsAllowed=new l.Vector,t.publisherRestrictions=new l.PurposeRestrictionVector,e&&(t.gvl=e),t.updated(),t}t.TCModel=n},function(module,exports,__webpack_require__){"use strict";var _core=__webpack_require__(25),gvl=(_core.GVL.baseUrl=rodoScriptDir?rodoScriptDir.replace("/latest/",""):"https://prywatnosc.interia.pl/rodo/vendorlist/v2",new _core.GVL("LATEST")),customSettings=null,isIOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints,countGlobal=0,firstGlobalValue="";!function(){if("polska-press.gazetkapromocyjna.pl"!==location.hostname&&top!==window)window.console&&console.warn("inpl.rd: nie jest w oknie top");else if(!window.rodoLoaded){window.rodoLoaded=!0;var state_undefined=null,state_accepted="1",state_accept_int="2",state_accept_other="3",state_block="4",state_later="5",state_accept_int_other="6",state_accept_prof="7",state_accept_prof_int="8",state_accept_prof_other="9",isAllowed=function(e,t){var n=!1;switch(t){case"all":n=e==state_accepted||e==state_accept_int_other;break;case"none":n=e==state_block||e==state_accept_prof;break;case"interia":n=e==state_accepted||e==state_accept_int_other||e==state_accept_int||e==state_accept_prof_int;break;case"partners":n=e==state_accepted||e==state_accept_int_other||e==state_accept_other||e==state_accept_prof_other;break;case"profiling":n=e==state_accept_prof||e==state_accept_prof_other||e==state_accept_prof_int;break;default:log("Rodo: isAllow niepoprawne uzycie: "+t)}return n},ifr=null,isSafari=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString(),jsonMessages=null,log=function(){try{console.log.apply(console,arguments)}catch(e){}},toKibana=function(e){var t=arguments[1]||"";try{var n=new XMLHttpRequest;n.open("POST","//l.iplsc.com/logger/",!0),n.setRequestHeader("Content-type","text/plain"),n.onreadystatechange=function(){},n.send(JSON.stringify({level:"error",line:0,origin:"iplv3",referer:location.href,method:"console_log",message:"rdebug4 "+e,data:t}))}catch(e){log("problem z logowaniem")}},events={onAccept:[],onFinish:[],onShow:[],onHide:[]},dispatchEvents=function(e){events[e]?events[e].forEach(function(e){try{arguments[1]?e(arguments[1]):e()}catch(e){log("Rodo: blad w callbacku uzytkownika",e)}}):log("Zle wywolany dispatcher")},isGlobalLoaded=!1,read=function(){var e,t=null;try{(t=(t=(e=(e=document.cookie.replace(/(?:(?:^|.*;\s*)inplrd\s*=\s*([^;]*).*$)|^.*$/,"$1"))||document.cookie.replace(/(?:(?:^|.*;\s*)acceptRodo\s*=\s*([^;]*).*$)|^.*$/,"$1"))?JSON.parse(e):null)&&!t.tcf?null:t)&&7776e6<(new Date).getTime()-t.d&&(log("Rodo: Zgoda starsza niz 90 dni. Reset"),t=null),t&&t.v!==state_accepted&&12096e5<(new Date).getTime()-t.d&&(t=null),isIOS&&t&&"5"==t.v&&t.d<new Date(2020,8,16,15,0,0,0).getTime()&&(t=null,toKibana("read: zerujemy zgode na ios"))}catch(e){t=null,log("Rodo: read exception",e)}return t},write=function(e){new Date;var t=new Date;t.setTime((new Date).getTime()+7776e6);try{"1"!==e.v&&t.setTime((new Date).getTime()+12096e5)}catch(e){toKibana("write: niepoprawna wartosc "+e)}try{document.cookie="inplrd="+JSON.stringify(e)+"; expires="+t.toUTCString()+"; path=/"+(/interia\.pl$/i.test(location.hostname)?"; domain=.interia.pl":"")+"; SameSite=None; Secure",log("Rodo: state saved",e)}catch(e){log("Rodo: write exception",e),toKibana("write wyjatek zapisu "+e)}try{/debugrodo/.test(location.hash)&&(n="debugrodo: "+document.cookie+" || "+JSON.stringify(e),toKibana(n));var n,o=read(),r=0;try{r=document.cookie&&document.cookie.match(/acceptRodo/g)&&document.cookie.match(/acceptRodo/g).length}catch(e){}!o&&r&&toKibana("write zapisany "+JSON.stringify(o)+" |"+r+"| "+document.cookie)}catch(e){toKibana("write exception "+e)}},debugState=function(e,t){new Date;if(/wydarzenia/.test(location.host))try{e&&(31536e6<(new Date).getTime()-e.d?toKibana("stara_zgoda_globalna "+new Date(e.d).toISOString().substring(0,10)):toKibana("wlasciwa_zgodag")),t&&(31536e6<(new Date).getTime()-t.d?toKibana("stara_zgoda_lokalna "+new Date(t.d).toISOString().substring(0,10)):toKibana("wlasciwa_zgodal"))}catch(e){log("debugState wyjatek:",e)}},string2State=function(e){return{v:e,d:(new Date).getTime()}},settingsToState=function(e){var t;return 0==e.interiaMarketing&&0==e.interiaProfiling&&0==e.partners&&(t="4"),1==e.interiaMarketing&&0==e.interiaProfiling&&0==e.partners&&(t="2"),0==e.interiaMarketing&&0==e.interiaProfiling&&1==e.partners&&(t="3"),1==e.interiaMarketing&&1==e.interiaProfiling&&1==e.partners&&(t="1"),1==e.interiaMarketing&&0==e.interiaProfiling&&1==e.partners&&(t="6"),0==e.interiaMarketing&&1==e.interiaProfiling&&0==e.partners&&(t="7"),1==e.interiaMarketing&&1==e.interiaProfiling&&0==e.partners&&(t="8"),t=0==e.interiaMarketing&&1==e.interiaProfiling&&1==e.partners?"9":t},updateState=function(e){var t,n=arguments[1];try{if(localState?(localState.v=string2State(e).v,localState.d=string2State(e).d):localState=string2State(e),localState&&localState.tcf)try{(t=_core.TCString.decode(localState.tcf)).gvl=gvl}catch(e){toKibana("updateState: wyjatek na TCString.decode "+e),log("Rodo: TCString.decode",e)}else try{(t=new _core.TCModel(gvl)).cmpVersion=2,t.cmpId=231,t.consentLanguage_="PL",t.publisherCountryCode_="PL",t.isServiceSpecific=!0}catch(e){log("Rodo: updateState: wyjatek na tworzeniu modelu",e),toKibana("updateState: wyjatek na tworzeniu modelu ("+(gvl&&gvl.isReady_)+") "+e)}if(n)t.purposeConsents.set(n.purposeConsents||[]),n.purposeConsents&&n.purposeConsents.length&&t.setAllSpecialFeatureOptins(),n.vendorConsents?t.vendorConsents.set(n.vendorConsents||[]):t.setAllVendorConsents(),t.purposeLegitimateInterests.set(n.purposeLegitimateInterests||[]);else if(e==state_accepted)try{t.setAllVendorConsents(),t.setAllVendorLegitimateInterests(),t.setAllPurposeConsents(),t.setAllPurposeLegitimateInterests(),t.setAllSpecialFeatureOptins()}catch(e){log("Rodo: updateState: wyjatek na ustawianiu purposow",e),toKibana("updateState: wyjatek na ustawianiu purposow "+e)}try{localState.tcf=_core.TCString.encode(t)}catch(e){toKibana("updateState: wyjatek TCString.encode "+e)}}catch(e){toKibana("updateState "+e)}localState&&localState.tcf?(write(localState),setGlobal(localState)):toKibana("updateState: niepoprawny localState "+JSON.stringify(localState))},needUpdate=function(e,t){return!(!t||e&&e.v===t.v&&e.d===t.d&&e.tcf===t.tcf)},setKeyword=function(e){"undefined"!=typeof googletag&&googletag.cmd&&googletag.cmd.push&&googletag.cmd.push(function(){googletag.pubads().clearTargeting("rodo"),googletag.pubads().setTargeting("rodo",e)});try{localStorage.setItem("adoceanRodoKeyword","rodo_"+e)}catch(e){log("Rodo: blad zapisu keywords do localStorage")}log("Rodo: set keyword",e)},addToBody=function(e){document.body?(document.body.appendChild(e),log("Rodo: apend body",e)):document.addEventListener("DOMContentLoaded",function(){document.body.appendChild(e),log("Rodo: dodane do body onDOMContentLoaded")},!1)},loadAllPartners=function loadAllPartners(){var fetchData=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState&&200===this.status)try{log("Rodo: all partners"),t(JSON.parse(this.responseText))}catch(e){log("Rodo: problem z pobraniem partnerow",e)}},"vendor-list.json"==e?n.open("GET",rodoScriptDir.replace("latest/",e)):n.open("GET",rodoJsonDir.replace("/rodo/messages-pl",e)),n.send()};fetchData("vendor-list.json",function(vendors){var el=document.querySelector(".vendorListContainer"),i,html="";if(el){for(i in vendors.vendors)html+='<div class="indent" data-vendor="'+i+'"><h4>'+vendors.vendors[i].name+'</h4><div class="hidden">Ładowanie...</div><div class="labels">'+(vendors.vendors[i].legIntPurposes.length?'<label class="toggle checked toggle-left tcf-leg-int">Uzasadniony interes</label>':"")+'<label class="toggle tcf-consent">Zgoda</label></div></div>';el.innerHTML=html}eval(document.querySelector(".rodo-popup-content script").innerHTML),customSettings&&customSettings.tcf&&(customSettings.tcf.vendorConsents||customSettings.tcf.vendorLegitimateInterests)?loadRodoPartners(customSettings):loadRodoPartners(window.rodoAPI.decodeSettings(localState))}),fetchData("/rodo/otherpartnerslist",function(e){var t=document.querySelector(".otherPartnersContainer");t&&(t.innerHTML="<p>"+e.map(function(e){return e.name+' - <a href="'+e.policyUrl+'">'+e.policyUrl+"</a><br>"}).join("")+"</p>")})},showAcceptMessage=function showAcceptMessage(){log("Rodo: popup message");var container=document.createElement("div"),content=document.createElement("div"),buttons=document.createElement("div"),buttonAgree=document.createElement("button"),buttonSettings=document.createElement("button"),buttonBack=document.createElement("button"),buttonSave=document.createElement("button"),setClickEventToSetting=(container.className="rodo-popup",container.style.display="none",content.className="rodo-popup-content",buttons.className="rodo-popup-buttons",buttonAgree.className="rodo-popup-agree",buttonSettings.className="rodo-popup-settings",buttonSettings.innerHTML="Ustawienia prywatności",buttonBack.className="rodo-popup-back",buttonBack.innerHTML="&lsaquo; Powrót",buttonBack.style.display="none",buttonSave.className="rodo-popup-save",buttonSave.innerHTML="Zapisz zmiany",buttonSave.style.display="none",function(){log("setClickEventToSetting - start");try{for(var e=content.querySelectorAll("a[href='#settings']"),t=0;t<e.length;t++)log("setClickEventToSetting - add event"),e[t].addEventListener("click",function(e){return e.preventDefault(),log("kliknieto #settings"),buttonSettings.click(),!1},!1)}catch(e){log("Rodo: problem z obsluga eventu na #settings")}}),setClickEventToPartners=function(){try{content.querySelector("a[href='#partners']")&&content.querySelector("a[href='#partners']").addEventListener("click",function(e){e.preventDefault(),iwa("trackEvent","rodo","plansza_duza","klik","partner_rekl",{rodo:localState?localState.v:0}),getContent("partnersMessage",content,"acceptMessageButtonAgree",buttonAgree,function(){loadAllPartners(),buttonAgree.style.display="inline-block",buttonSettings.style.display="none",buttonSave.style.display="inline-block",buttonBack.style.display="inline-block",buttonAgree.innerHTML="Włącz wszystko i przejdz do serwisu"})})}catch(e){log("Rodo: problem z obsluga eventu na #partners")}},clickToRemindLater=function(){return log("Rodo: pozniej."),updateState(state_later),document.body.removeChild(container),dispatchEvents("onHide"),iwa("trackEvent","rodo","plansza_duza","klik","na_pozniej",{rodo:localState?localState.v:0}),!1};getContent("acceptMessage",content,"acceptMessageButtonAgree",buttonAgree,function(){container.style.display="block",content.querySelector("button").addEventListener("click",function(){clickToRemindLater()},!1),setClickEventToSetting(),setClickEventToPartners()}),buttonAgree.onclick=function(){return log("Rodo: jest zgoda"),updateState(state_accepted),setKeyword(localState.v),dispatchEvents("onAccept"),dispatchEvents("onHide"),document.body.removeChild(container),"Włącz wszystko i przejdz do serwisu"==buttonAgree.innerHTML?iwa("trackEvent","rodo","plansza_duza","klik","wlacz_all",{rodo:localState?localState.v:0}):iwa("trackEvent","rodo","plansza_duza","klik","potwierdzam",{rodo:localState?localState.v:0}),!1},buttonBack.onclick=function(){var e;this.style.display="none",buttonSave.style.display="none",buttonSettings.style.display="inline-block",buttonAgree.style.display="inline-block",iwa("trackEvent","rodo","plansza_duza","klik","powrot",{rodo:localState?localState.v:0}),document.querySelector(".rodo-settings .vendorListContainer")&&(customSettings=customSettings||{tcf:{}},e=getRodoPartners(),customSettings.tcf.vendorConsents=e.vendorConsents,customSettings.tcf.vendorLegitimateInterests=e.vendorLegitimateInterests),document.querySelector(".rodo-settings .purposesList")&&(customSettings=customSettings||{tcf:{}},e=getRodoSettings(),customSettings.tcf.purposeConsents=e.tcf.purposeConsents,customSettings.tcf.purposeLegitimateInterests=e.tcf.purposeLegitimateInterests,customSettings.interiaMarketing=e.interiaMarketing,customSettings.interiaProfiling=e.interiaProfiling,customSettings.partners=e.partners),window.customSettings=customSettings,getContent("acceptMessage",content,"acceptMessageButtonAgree",buttonAgree,function(){content.querySelector("button").addEventListener("click",function(){clickToRemindLater()},!1),setClickEventToPartners(),setClickEventToSetting()})},buttonSettings.onclick=function(){return this.style.display="none",buttonAgree.style.display="inline-block",buttonBack.style.display="inline-block",buttonSave.style.display="inline-block",getContent("settingsMessage",content,"acceptMessageButtonAgree",buttonAgree,function(){iwa("trackEvent","rodo","plansza_duza","klik","ust_prywatnosc",{rodo:localState?localState.v:0}),buttonAgree.innerHTML="Włącz wszystko i przejdz do serwisu",eval(document.querySelector(".rodo-popup-content script").innerHTML),customSettings&&customSettings.tcf&&(customSettings.tcf.purposeConsents||customSettings.tcf.purposeLegitimateInterests)?loadRodoSettings(customSettings):loadRodoSettings(window.rodoAPI.decodeSettings(localState))}),!1},buttonSave.onclick=function(){var e;return document.querySelector(".rodo-settings .vendorListContainer")&&(customSettings=customSettings||{interiaMarketing:!0,interiaProfiling:!0,partners:!1,tcf:{}},e=getRodoPartners(),customSettings.tcf.vendorConsents=e.vendorConsents,customSettings.tcf.vendorLegitimateInterests=e.vendorLegitimateInterests),document.querySelector(".rodo-settings .purposesList")&&(customSettings=customSettings||{tcf:{}},e=getRodoSettings(),customSettings.tcf.purposeConsents=e.tcf.purposeConsents,customSettings.tcf.purposeLegitimateInterests=e.tcf.purposeLegitimateInterests,customSettings.interiaMarketing=e.interiaMarketing,customSettings.interiaProfiling=e.interiaProfiling,customSettings.partners=e.partners),log("Rodo: settings",customSettings),(localState=window.rodoAPI.encodeSettings(customSettings))&&localState.tcf?(write(localState),setGlobal(localState)):toKibana("niepoprawny zapis save"+JSON.stringify(localState)),document.body.removeChild(container),iwa("trackEvent","rodo","plansza_duza","klik","zapisz_zmiany",{rodo:localState?localState.v:0}),isAllowed(localState.v,"all")&&dispatchEvents("onAccept"),dispatchEvents("onHide"),!1},addToBody(container),container.appendChild(content),container.appendChild(buttons),buttons.appendChild(buttonSettings),buttons.appendChild(buttonBack),buttons.appendChild(buttonAgree),buttons.appendChild(buttonSave),iwa("trackEvent","rodo","plansza_duza","wyswietlenie","rodo_iab",{rodo:localState?localState.v:0})},localState=read(),getGlobal=function(n){ifr=document.createElement("iframe");var o=rodoJsonDir.replace(/https?/,"https").replace(/\/rodo\/[^\/]+$/,"");ifr.src=o+"/rodo-iframe#origin="+encodeURIComponent(window.origin||location.origin||location.protocol+"//"+location.hostname),document.head.appendChild(ifr),window.addEventListener("message",function(e){var t;if(e.origin===o)try{(t="string"==typeof e.data?JSON.parse(e.data):e.data)&&t.command&&"get-rodo-data"==t.command&&(1==++countGlobal&&(firstGlobalValue=JSON.stringify(t.data)),1<countGlobal?toKibana("za_duzo_countglobal "+countGlobal+" "+firstGlobalValue+" | "+JSON.stringify(t.data)):n(t.data))}catch(e){log("Rodo: getGlobal callback",e)}},!1)},setGlobal=function(e){var t={command:"save-rodo-data",data:e};if(e||toKibana("setGlobal: null"),e&&!e.tcf)try{toKibana("setGlobal brak tcf: "+JSON.stringify(e))}catch(e){}ifr.contentWindow.window.postMessage(JSON.stringify(t),"*")},task;if(gvl.readyPromise.then(function(){if(getGlobal(function(e){if(log("Rodo: getGlobal",e),debugState(e,localState),e&&7776e6<(new Date).getTime()-e.d&&(e=null,log("Rodo: reset - zgoda starsza niz rok")),e&&e.v!==state_accepted&&12096e5<(new Date).getTime()-e.d&&(e=null,log("Rodo: reset - zgoda starsza 2 tygodnie")),e=e&&!e.tcf?null:e)switch(e.v){case state_undefined:setKeyword(state_block),localState?isAllowed(localState.v,"all")?updateState(localState.v):dispatchEvents("onShow"):(showAcceptMessage(),dispatchEvents("onShow"));break;case state_accepted:case state_accept_int_other:setKeyword(e.v),needUpdate(localState,e)&&write(localState=e);break;case state_later:case state_block:case state_accept_prof:case state_accept_int:case state_accept_prof_int:case state_accept_other:case state_accept_prof_other:setKeyword(e.v),needUpdate(localState,e)&&write(localState=e),dispatchEvents("onShow");break;default:setKeyword(state_block)}else setKeyword(state_block),localState?(isSafari&&localState.v&&setKeyword(localState.v),localState.v&&(localState.tcf?setGlobal(localState):toKibana("niepoprawny zapis local"+JSON.stringify(localState))),isAllowed(localState.v,"all")||dispatchEvents("onShow")):(showAcceptMessage(),dispatchEvents("onShow"));iwa("trackEvent","rodo","skrypt","zaladowany",{rodo:e?e.v:isSafari&&localState?localState.v:0}),e&&isAllowed(e.v,"all")&&dispatchEvents("onAccept");for(var t=(t=document.querySelector('iframe[src*="rodo-iframe"]'))&&t.contentWindow,n=0;n<window.frames.length;n++)window.frames[n]!==t&&window.frames[n].postMessage("inpl.rd-loaded","*");dispatchEvents("onFinish"),isGlobalLoaded=!0}),localState)switch(localState.v){case state_accepted:case state_block:case state_accept_int:case state_accept_other:case state_accept_int_other:case state_accept_prof_int:case state_accept_prof_other:setKeyword(localState.v);break;default:setKeyword(state_block)}function e(n){var o,r="string"==typeof n.data,e=n.data;try{r&&(e=JSON.parse(n.data))}catch(e){}e&&e.__tcfapiCall&&(o=e.__tcfapiCall,window.__tcfapi(o.command,o.version,function(e,t){e={__tcfapiReturn:{returnValue:e,success:t,callId:o.callId}};try{n.source.postMessage(r?JSON.stringify(e):e,"*")}catch(e){log("Problem z postMessage",e)}},o.parameter))}log("Rodo: state readed",localState),window.__tcfapi=function(e){var n,o,r="1~46.89.108.144.167.184.202.211.228.241.272.326.448.486.495.922.938.1092.1126.1201.1205.1211.1226.1415.1558.1870.1889.2068.2072.2373.2440.2510.2526.2544.2571.2577.2605.2628.2642.2677.2684.2690.2729.2768.2770.2822.2846.2860.2874.2886.2887.2922.2924.2949.2973.2975.2994.3025.3111.3128.3174";try{localState&&localState.tcf?(n=_core.TCString.decode(localState.tcf)).gvl=gvl:((n=new _core.TCModel(gvl)).cmpVersion=2,n.cmpId=231,n.consentLanguage_="PL",n.publisherCountryCode_="PL",n.isServiceSpecific=!0),0<n.purposeConsents.size&&n.setAllSpecialFeatureOptins();var s,t=_core.TCString.encode(n),i=(window.model=n,window.TCString=_core.TCString,{gdprApplies:!0,cmpLoaded:!0,cmpStatus:"loaded",displayStatus:document.querySelector(".rodo-popup")?"visible":"hidden",apiVersion:"2",cmpVersion:2,cmpId:231,gvlVersion:gvl.vendorListVersion,tcfPolicyVersion:gvl.tcfPolicyVersion}),a={tcString:t,tcfPolicyVersion:2,cmpId:231,cmpVersion:2,gdprApplies:!0,eventStatus:"useractioncomplete",cmpStatus:"loaded",listenerId:void 0,isServiceSpecific:!0,useNonStandardStacks:!1,publisherCC:"PL",purposeOneTreatment:!1,outOfBand:{allowedVendors:{},disclosedVendors:{}},purpose:{consents:{},legitimateInterests:{}},vendor:{consents:{},legitimateInterests:{}},specialFeatureOptins:{},publisher:{consents:{},legitimateInterests:{},customPurpose:{consents:{},legitimateInterests:{}},restrictions:{}}},c=Math.max.apply(null,Object.keys(gvl.vendors)),l=void 0;if(0<n.vendorConsents.size)for(l=1;l<=c;l++)a.vendor.consents[l]=n.vendorConsents.has(l),a.vendor.legitimateInterests[l]=n.vendorLegitimateInterests.has(l);if(0<n.purposeConsents.size||0<n.purposeLegitimateInterests.size){for(l=1;l<=10;l++)a.purpose.consents[l]=n.purposeConsents.has(l),a.publisher.legitimateInterests[l]=!0,a.purpose.legitimateInterests[l]=n.purposeLegitimateInterests.has(l);a.specialFeatureOptins={1:!0,2:!0}}switch(a.addtlConsent=localState&&isAllowed(localState.v,"partners")?r:"1~",e){case"ping":arguments[2](i);break;case"getTCData":a.eventStatus=document.querySelector(".rodo-popup")?"cmpuishown":"useractioncomplete",a.listenerId=void 0,arguments[2](a,!0);break;case"addEventListener":a.eventStatus="tcloaded",a.listenerId=a.listenerId?a.listenerId+1:1,document.querySelector(".rodo-popup")?(a.eventStatus="cmpuishown",s=arguments[2],o=a,rodoAPI.onHide(function(){(n=_core.TCString.decode(localState.tcf)).gvl=gvl,o.tcString=_core.TCString.encode(n),o.eventStatus="useractioncomplete",o.addtlConsent=localState&&isAllowed(localState.v,"partners")?r:"1~";var e=Math.max.apply(null,Object.keys(gvl.vendors)),t=void 0;if(0<n.vendorConsents.size)for(t=1;t<=e;t++)o.vendor.consents[t]=n.vendorConsents.has(t),o.vendor.legitimateInterests[t]=n.vendorLegitimateInterests.has(t);if(0<n.purposeConsents.size||0<n.purposeLegitimateInterests.size){for(t=1;t<=10;t++)o.purpose.consents[t]=n.purposeConsents.has(t),o.publisher.legitimateInterests[t]=!0,o.purpose.legitimateInterests[t]=n.purposeLegitimateInterests.has(t);o.specialFeatureOptins={1:!0,2:!0}}log("Rodo onAddEventListener"),s(o,!0)})):arguments[2](a,!0);break;case"removeEventListener":arguments[2](!0)}}catch(e){log("error in __tcfapi callback"+e)}},function e(){var t,n;window.frames.__tcfapiLocator||(document.body?(t=document.body,(n=document.createElement("div")).innerHTML='<iframe name="__tcfapiLocator" style="display: none"></iframe>',t.appendChild(n.firstChild)):setTimeout(e,5))}(),window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e)}),window.rodoAPI={getStatus:function(){return localState?localState.v:"0"},onAccept:function(e){isGlobalLoaded&&localState&&localState.v===state_accepted?e():events.onAccept.push(e)},onShow:function(e){events.onShow.push(e)},onHide:function(e){events.onHide.push(e)},onFinish:function(e){isGlobalLoaded?e(localState?localState.v:"0"):events.onFinish.push(e)},encodeSettings:function(e){log("encodeSettings",e);try{var t=string2State(settingsToState(e)),n=new _core.TCModel(gvl);n.cmpVersion=2,n.cmpId=231,n.consentLanguage_="PL",n.publisherCountryCode_="PL",n.isServiceSpecific=!0,n.setAllSpecialFeatureOptins(),e.tcf.vendorLegitimateInterests?n.vendorLegitimateInterests.set(e.tcf.vendorLegitimateInterests||[]):n.setAllVendorLegitimateInterests(),e.tcf.vendorConsents?n.vendorConsents.set(e.tcf.vendorConsents||[]):n.setAllVendorConsents(),e.tcf.purposeLegitimateInterests?n.purposeLegitimateInterests.set(e.tcf.purposeLegitimateInterests||[]):n.setAllPurposeLegitimateInterests(),e.tcf.purposeConsents?n.purposeConsents.set(e.tcf.purposeConsents||[]):n.setAllPurposeConsents(),t.tcf=_core.TCString.encode(n)}catch(e){toKibana("encode Settings "+e)}return t},decodeSettings:function(e){var t,n={purposeConsents:[],purposeLegitimateInterests:[],vendorConsents:[],vendorLegitimateInterests:[]};return log("decodeSettings:",e),e?{interiaMarketing:1==(t=e.v)||2==t||5==t||6==t||8==t,interiaProfiling:1==t||7==t||8==t||9==t,partners:1==t||3==t||6==t||9==t,tcf:n="string"==typeof e.tcf?_core.TCString.decode(e.tcf):n}:{interiaMarketing:!0,interiaProfiling:!0,partners:!1,tcf:{}}}},window.rodo)for(;task=window.rodo.shift();)window.rodoAPI[task[0]]&&("getStatus"==task[0]?task[1](window.rodoAPI.getStatus()):window.rodoAPI[task[0]](task[1]));window.showConsentTool=function(){var e;try{showAcceptMessage(),(e=document.querySelector(".rodo-popup")).offsetHeight||(e.style.display="block");var t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.media="all",t.href=rodoScriptDir+"inpl.rd.css",document.head.appendChild(t),log("Rodo: ładuje css")}catch(e){log("Blad:",e)}};var link=document.createElement("link");link.type="text/css",link.rel="stylesheet",link.media="all",link.href=rodoScriptDir+"inpl.rd.css",document.head.appendChild(link)}function getContent1(e,t,n,o,r){var s;null==jsonMessages?((s=new XMLHttpRequest).onreadystatechange=function(){if(4===this.readyState&&200===this.status)try{jsonMessages=JSON.parse(this.responseText),log("Rodo: json remote"),t.innerHTML=jsonMessages[e],o.innerHTML=jsonMessages[n],void 0!==r&&r()}catch(e){log("Rodo: problem z parsowaniem tresci artykułów")}},s.open("GET",rodoJsonDir),s.send()):(t.innerHTML=jsonMessages[e],o.innerHTML=jsonMessages[n],void 0!==r&&r()),t.scrollTop=0}function getContent(t,n,o,r,s){var e;jsonMessages?(n.innerHTML=jsonMessages[t],r.innerHTML=jsonMessages[o],void 0!==s&&s()):((e=document.createElement("script")).src=rodoJsonDir.replace("messages-pl","messages-jsonp"),document.querySelector("head").appendChild(e),window.rodo_jsonp_callback=function(e){jsonMessages=e,n.innerHTML=jsonMessages[t],r.innerHTML=jsonMessages[o],void 0!==s&&s()}),n.scrollTop=0}}()},function(e,n,t){"use strict";function o(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),o(t(5)),o(t(0)),o(t(1)),o(t(2)),o(t(21)),o(t(22)),o(t(23)),o(t(40))},function(e,t,n){"use strict";var o,r,s=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=(Object.defineProperty(t,"__esModule",{value:!0}),r=Error,s(i,r),i);function i(e){e=r.call(this,e)||this;return e.name="DecodingError",e}t.DecodingError=s},function(e,t,n){"use strict";var o,r,s=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=(Object.defineProperty(t,"__esModule",{value:!0}),r=Error,s(i,r),i);function i(e){e=r.call(this,e)||this;return e.name="EncodingError",e}t.EncodingError=s},function(e,t,n){"use strict";var o,r,s=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=(Object.defineProperty(t,"__esModule",{value:!0}),r=Error,s(i,r),i);function i(e){e=r.call(this,e)||this;return e.name="GVLError",e}t.GVLError=s},function(e,t,n){"use strict";var o,r,s=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=(Object.defineProperty(t,"__esModule",{value:!0}),r=Error,s(i,r),i);function i(e,t,n){t=r.call(this,"invalid value "+t+" passed for "+e+" "+(n=void 0===n?"":n))||this;return t.name="TCModelError",t}t.TCModelError=s},function(e,t,n){"use strict";function o(){}Object.defineProperty(t,"__esModule",{value:!0}),o.prototype.has=function(e){return o.langSet.has(e)},o.prototype.forEach=function(e){o.langSet.forEach(e)},Object.defineProperty(o.prototype,"size",{get:function(){return o.langSet.size},enumerable:!0,configurable:!0}),o.langSet=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]),t.ConsentLanguages=o},function(e,t,n){"use strict";var o,r,s=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&o>=e.length?void 0:e)&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=(Object.defineProperty(t,"__esModule",{value:!0}),n(12)),c=n(10),l=n(7),n=n(2),n=(r=n.Cloneable,s(u,r),u.prototype.has=function(e){return this.map.has(e)},u.prototype.isOkToHave=function(e,t,n){var o,r=!0;if(null!=(o=this.gvl)&&o.vendors){var s=this.gvl.vendors[n];if(s)if(e===l.RestrictionType.NOT_ALLOWED)r=s.legIntPurposes.includes(t)||s.purposes.includes(t);else if(s.flexiblePurposes.length)switch(e){case l.RestrictionType.REQUIRE_CONSENT:r=s.flexiblePurposes.includes(t)&&s.legIntPurposes.includes(t);break;case l.RestrictionType.REQUIRE_LI:r=s.flexiblePurposes.includes(t)&&s.purposes.includes(t)}else r=!1;else r=!1}return r},u.prototype.add=function(e,t){this.isOkToHave(t.restrictionType,t.purposeId,e)&&(t=t.hash,this.has(t)||(this.map.set(t,new c.BinarySearchTree),this.bitLength=0),this.map.get(t).add(e))},u.prototype.restrictPurposeToLegalBasis=function(e){for(var s=this.gvl.vendorIds,t=e.hash,n=function(){var t,e,n;try{for(var o=i(s),r=o.next();!r.done;r=o.next())n=r.value}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return n}(),o=1;o<=n;o++)this.has(t)||(this.map.set(t,new c.BinarySearchTree),this.bitLength=0),this.map.get(t).add(o)},u.prototype.getVendors=function(e){var t,n=[];return e?(e=e.hash,this.has(e)&&(n=this.map.get(e).get())):(t=new Set,this.map.forEach(function(e){e.get().forEach(function(e){t.add(e)})}),n=Array.from(t)),n},u.prototype.getRestrictionType=function(e,t){var n;return this.getRestrictions(e).forEach(function(e){e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)}),n},u.prototype.vendorHasRestriction=function(e,t){for(var n=!1,o=this.getRestrictions(e),r=0;r<o.length&&!n;r++)n=t.isSameAs(o[r]);return n},u.prototype.getMaxVendorId=function(){var t=0;return this.map.forEach(function(e){t=Math.max(e.max(),t)}),t},u.prototype.getRestrictions=function(n){var o=[];return this.map.forEach(function(e,t){n&&!e.contains(n)||o.push(a.PurposeRestriction.unHash(t))}),o},u.prototype.getPurposes=function(){var n=new Set;return this.map.forEach(function(e,t){n.add(a.PurposeRestriction.unHash(t).purposeId)}),Array.from(n)},u.prototype.remove=function(e,t){var t=t.hash,n=this.map.get(t);n&&(n.remove(e),n.isEmpty())&&(this.map.delete(t),this.bitLength=0)},Object.defineProperty(u.prototype,"gvl",{get:function(){return this.gvl_},set:function(e){var o=this;this.gvl_||(this.gvl_=e,this.map.forEach(function(t,e){var n=a.PurposeRestriction.unHash(e);t.get().forEach(function(e){o.isOkToHave(n.restrictionType,n.purposeId,e)||t.remove(e)})}))},enumerable:!0,configurable:!0}),u.prototype.isEmpty=function(){return 0===this.map.size},Object.defineProperty(u.prototype,"numRestrictions",{get:function(){return this.map.size},enumerable:!0,configurable:!0}),u);function u(){var e=null!==r&&r.apply(this,arguments)||this;return e.bitLength=0,e.map=new Map,e}t.PurposeRestrictionVector=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.DeviceDisclosureStorageAccessType||(t.DeviceDisclosureStorageAccessType={})).COOKIE="cookie",t.WEB="web",t.APP="app"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=n(13),n=(r.ID_TO_KEY=[n.Segment.CORE,n.Segment.VENDORS_DISCLOSED,n.Segment.VENDORS_ALLOWED,n.Segment.PUBLISHER_TC],r.KEY_TO_ID=((o={})[n.Segment.CORE]=0,o[n.Segment.VENDORS_DISCLOSED]=1,o[n.Segment.VENDORS_ALLOWED]=2,o[n.Segment.PUBLISHER_TC]=3,o),r);function r(){}t.SegmentIDs=n},function(e,t,n){"use strict";var o,r,s=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__generator||function(o,r){var s,i,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(s)throw new TypeError("Generator is already executing.");for(;c;)try{if(s=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=r.call(o,c)}catch(e){t=[6,e],i=0}finally{s=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},a=(Object.defineProperty(t,"__esModule",{value:!0}),n(2)),c=n(0),n=(r=a.Cloneable,s(l,r),l.prototype[Symbol.iterator]=function(){var t;return i(this,function(e){switch(e.label){case 0:t=1,e.label=1;case 1:return t<=this.maxId?[4,[t,this.has(t)]]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})},l.prototype.values=function(){return this.set_.values()},Object.defineProperty(l.prototype,"maxId",{get:function(){return this.maxId_},enumerable:!0,configurable:!0}),l.prototype.has=function(e){return this.set_.has(e)},l.prototype.unset=function(e){var t=this;Array.isArray(e)?e.forEach(function(e){return t.unset(e)}):"object"==typeof e?this.unset(Object.keys(e).map(function(e){return+e})):(this.set_.delete(e),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach(function(e){t.maxId_=Math.max(t.maxId,e)})))},l.prototype.isIntMap=function(n){var o=this,e="object"==typeof n;return e&&Object.keys(n).every(function(e){var t=Number.isInteger(parseInt(e,10));return(t=t&&o.isValidNumber(n[e].id))&&void 0!==n[e].name})},l.prototype.isValidNumber=function(e){return 0<parseInt(e,10)},l.prototype.isSet=function(e){var t=!1;return t=e instanceof Set?Array.from(e).every(this.isValidNumber):t},l.prototype.set=function(e){var t=this;if(Array.isArray(e))e.forEach(function(e){return t.set(e)});else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map(function(e){return+e}));else{if(!this.isValidNumber(e))throw new c.TCModelError("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}},l.prototype.empty=function(){this.set_=new Set},l.prototype.forEach=function(e){for(var t=1;t<=this.maxId;t++)e(this.has(t),t)},Object.defineProperty(l.prototype,"size",{get:function(){return this.set_.size},enumerable:!0,configurable:!0}),l.prototype.setAll=function(e){this.set(e)},l);function l(){var e=null!==r&&r.apply(this,arguments)||this;return e.bitLength=0,e.maxId_=0,e.set_=new Set,e}t.Vector=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),c=n(6),l=n(14),r=n(20),u=n(0),d=n(11),p=n(1),n=(s.encode=function(r,s){var e,i=this;try{e=this.fieldSequence[""+r.version][s]}catch(e){throw new u.EncodingError("Unable to encode version: "+r.version+", segment: "+s)}var a="";return s!==p.Segment.CORE&&(a=l.IntEncoder.encode(p.SegmentIDs.KEY_TO_ID[s],c.BitLength.segmentType)),e.forEach(function(t){var e=r[t],n=l.FieldEncoderMap[t],o=c.BitLength[t];void 0===o&&i.isPublisherCustom(t)&&(o=+r[d.Fields.numCustomPurposes]);try{a+=n.encode(e,o)}catch(e){throw new u.EncodingError("Error encoding "+s+"->"+t+": "+e.message)}}),o.Base64Url.encode(a)},s.decode=function(e,r,t){var s=this,i=o.Base64Url.decode(e),a=0;return t===p.Segment.CORE&&(r.version=l.IntEncoder.decode(i.substr(a,c.BitLength[d.Fields.version]),c.BitLength[d.Fields.version])),t!==p.Segment.CORE&&(a+=c.BitLength.segmentType),this.fieldSequence[""+r.version][t].forEach(function(e){var t=l.FieldEncoderMap[e],n=c.BitLength[e];if(0!==(n=void 0===n&&s.isPublisherCustom(e)?+r[d.Fields.numCustomPurposes]:n)){var o=i.substr(a,n);if(t===l.VendorVectorEncoder?r[e]=t.decode(o,r.version):r[e]=t.decode(o,n),Number.isInteger(n))a+=n;else{if(!Number.isInteger(r[e].bitLength))throw new u.DecodingError(e);a+=r[e].bitLength}}}),r},s.isPublisherCustom=function(e){return 0===e.indexOf("publisherCustom")},s.fieldSequence=new r.FieldSequence,s);function s(){}t.SegmentEncoder=n},function(F,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o,r,s,i,a,c,l,u,d,p,f,g,h,v,y,m,b,_,S,E,w,L,C,I,O=t(1),P=t(4),T=t(15),A=t(8),V=t(3),k=t(16),M=t(17),t=t(18);function R(){}n=O.Fields.version,o=O.Fields.created,r=O.Fields.lastUpdated,s=O.Fields.cmpId,i=O.Fields.cmpVersion,a=O.Fields.consentScreen,c=O.Fields.consentLanguage,l=O.Fields.vendorListVersion,u=O.Fields.policyVersion,d=O.Fields.isServiceSpecific,p=O.Fields.useNonStandardStacks,f=O.Fields.specialFeatureOptins,g=O.Fields.purposeConsents,h=O.Fields.purposeLegitimateInterests,v=O.Fields.purposeOneTreatment,y=O.Fields.publisherCountryCode,m=O.Fields.vendorConsents,b=O.Fields.vendorLegitimateInterests,_=O.Fields.publisherRestrictions,S=O.Fields.vendorsDisclosed,E=O.Fields.vendorsAllowed,w=O.Fields.publisherConsents,L=O.Fields.publisherLegitimateInterests,C=O.Fields.numCustomPurposes,I=O.Fields.publisherCustomConsents,O=O.Fields.publisherCustomLegitimateInterests,R[n]=V.IntEncoder,R[o]=T.DateEncoder,R[r]=T.DateEncoder,R[s]=V.IntEncoder,R[i]=V.IntEncoder,R[a]=V.IntEncoder,R[c]=k.LangEncoder,R[l]=V.IntEncoder,R[u]=V.IntEncoder,R[d]=P.BooleanEncoder,R[p]=P.BooleanEncoder,R[f]=A.FixedVectorEncoder,R[g]=A.FixedVectorEncoder,R[h]=A.FixedVectorEncoder,R[v]=P.BooleanEncoder,R[y]=k.LangEncoder,R[m]=t.VendorVectorEncoder,R[b]=t.VendorVectorEncoder,R[_]=M.PurposeRestrictionVectorEncoder,R.segmentType=V.IntEncoder,R[S]=t.VendorVectorEncoder,R[E]=t.VendorVectorEncoder,R[w]=A.FixedVectorEncoder,R[L]=A.FixedVectorEncoder,R[C]=V.IntEncoder,R[I]=A.FixedVectorEncoder,R[O]=A.FixedVectorEncoder,e.FieldEncoderMap=R},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.FieldSequence=function(){var e;this[1]=((e={})[o.Segment.CORE]=[o.Fields.version,o.Fields.created,o.Fields.lastUpdated,o.Fields.cmpId,o.Fields.cmpVersion,o.Fields.consentScreen,o.Fields.consentLanguage,o.Fields.vendorListVersion,o.Fields.purposeConsents,o.Fields.vendorConsents],e),this[2]=((e={})[o.Segment.CORE]=[o.Fields.version,o.Fields.created,o.Fields.lastUpdated,o.Fields.cmpId,o.Fields.cmpVersion,o.Fields.consentScreen,o.Fields.consentLanguage,o.Fields.vendorListVersion,o.Fields.policyVersion,o.Fields.isServiceSpecific,o.Fields.useNonStandardStacks,o.Fields.specialFeatureOptins,o.Fields.purposeConsents,o.Fields.purposeLegitimateInterests,o.Fields.purposeOneTreatment,o.Fields.publisherCountryCode,o.Fields.vendorConsents,o.Fields.vendorLegitimateInterests,o.Fields.publisherRestrictions],e[o.Segment.PUBLISHER_TC]=[o.Fields.publisherConsents,o.Fields.publisherLegitimateInterests,o.Fields.numCustomPurposes,o.Fields.publisherCustomConsents,o.Fields.publisherCustomLegitimateInterests],e[o.Segment.VENDORS_ALLOWED]=[o.Fields.vendorsAllowed],e[o.Segment.VENDORS_DISCLOSED]=[o.Fields.vendorsDisclosed],e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.SegmentSequence=function(e,t){this[1]=[o.Segment.CORE],this[2]=[o.Segment.CORE],2===e.version&&(e.isServiceSpecific?this[2].push(o.Segment.PUBLISHER_TC):((t=!(!t||!t.isForVendors))&&!0!==e[o.Fields.supportOOB]||this[2].push(o.Segment.VENDORS_DISCLOSED),t&&(e[o.Fields.supportOOB]&&0<e[o.Fields.vendorsAllowed].size&&this[2].push(o.Segment.VENDORS_ALLOWED),this[2].push(o.Segment.PUBLISHER_TC))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),u=n(1);function o(){}o.process=function(e,t){var n=e.gvl;if(!n)throw new r.EncodingError("Unable to encode TCModel without a GVL");if(!n.isReady)throw new r.EncodingError("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.toUpperCase(),0<(null==(o=t)?void 0:o.version)&&(null==(o=t)?void 0:o.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;var o=e.version-1;if(this.processor[o])return this.processor[o](e,n);throw new r.EncodingError("Invalid version: "+e.version)},o.processor=[function(e){return e},function(c,l){c.publisherRestrictions.gvl=l,c.purposeLegitimateInterests.unset(1);var e=new Map;return e.set("legIntPurposes",c.vendorLegitimateInterests),e.set("purposes",c.vendorConsents),e.forEach(function(i,a){i.forEach(function(e,t){if(e){e=l.vendors[t];if(!e||e.deletedDate)i.unset(t);else if(0===e[a].length&&!("legIntPurposes"===a&&0===e.purposes.length&&0===e.legIntPurposes.length&&0<e.specialPurposes.length))if(c.isServiceSpecific)if(0===e.flexiblePurposes.length)i.unset(t);else{for(var n=c.publisherRestrictions.getRestrictions(t),o=!1,r=0,s=n.length;r<s&&!o;r++)o=n[r].restrictionType===u.RestrictionType.REQUIRE_CONSENT&&"purposes"===a||n[r].restrictionType===u.RestrictionType.REQUIRE_LI&&"legIntPurposes"===a;o||i.unset(t)}else i.unset(t)}})}),c.vendorsDisclosed.set(l.vendors),c}],t.SemanticPreEncoder=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),c=n(1),l=n(3),u=n(23);function o(){}o.encode=function(o,e){var t,r,s="";return o=a.SemanticPreEncoder.process(o,e),(r=Array.isArray(null==(t=e)?void 0:t.segments)?e.segments:new a.SegmentSequence(o,e)[""+o.version]).forEach(function(e,t){var n="";t<r.length-1&&(n="."),s+=a.SegmentEncoder.encode(o,e)+n}),s},o.decode=function(e,t){var n=e.split("."),o=n.length;t=t||new u.TCModel;for(var r=0;r<o;r++){var s=n[r],i=a.Base64Url.decode(s.charAt(0)).substr(0,a.BitLength.segmentType),i=c.SegmentIDs.ID_TO_KEY[l.IntEncoder.decode(i,a.BitLength.segmentType).toString()];a.SegmentEncoder.decode(s,t,i)}return t},t.TCString=o}]);