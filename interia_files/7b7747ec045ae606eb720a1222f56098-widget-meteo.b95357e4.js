(window.webpackJsonp=window.webpackJsonp||[]).push([["widget-meteo"],{"6xJU":function(e,t,r){function n(e,t,r,n,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function s(e){n(i,o,a,s,u,"next",e)}function u(e){n(i,o,a,s,u,"throw",e)}s(void 0)}))}}var a,i,s,u,c,l,m,d,p,w,v,g,f,h;r("ls82"),r("sMBO"),r("DQNa"),r("ma9I"),r("5s+n"),r("07d7"),r("toAj"),a={name:"morning",time:{from:{hours:6},to:{hours:8}},imageId:{itg:"0004LDFT7K8GNWLB",prod:"000COXH41VAUEG32"}},i={name:"evening",time:{from:{hours:16,minutes:30},to:{hours:18,minutes:30}},imageId:{itg:"0004LDFUOCN88IUS",prod:"000COXHUW0BHKEAA"}},s="meteo.interia.pl",u="pogoda.interia.pl",c=function(e,t){var r;switch(e){case a.name:default:r=new Date;break;case i.name:r=new Date((new Date).getTime()+864e5)}var n=["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","września","pażdziernika","listopada","grudnia"][r.getMonth()],o=r.getDate(),s=r.getFullYear(),u=t&&t.delimiter?t.delimiter:" ";return"".concat(o).concat(u).concat(n).concat(u).concat(s)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e,r=t.getHours(),n=t.getMinutes();return r>=a.time.from.hours&&r<a.time.to.hours?a.name:r>=i.time.from.hours&&r<=i.time.to.hours?r===i.time.from.hours&&n<i.time.from.minutes||r===i.time.to.hours&&n>=i.time.to.minutes?null:i.name:null},m=function(){var e=o(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.navigator||!window.navigator.geolocation){e.next=12;break}return t="prompt",e.prev=2,e.next=5,window.navigator.permissions.query({name:"geolocation"});case 5:return r=e.sent,e.abrupt("return",r?Promise.resolve(r.state):Promise.resolve(t));case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Promise.resolve(t));case 12:return e.abrupt("return",Promise.reject("Geolocation is not supported by this browser"));case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,r){window.navigator&&window.navigator.geolocation?window.navigator.geolocation.getCurrentPosition(t,r,e):r("Geolocation is not supported by this browser")}))},p=function(){var e=o(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,m();case 4:if("granted"===e.sent){e.next=7;break}return e.abrupt("return",Promise.resolve(null));case 7:return e.next=9,d({enableHighAccuracy:!0,timeout:5e3,maximumAge:0});case 9:t=e.sent,e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",Promise.resolve(null));case 15:return e.abrupt("return",Promise.resolve(t));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=o(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.coords&&window.utils.isNumber(t.coords.latitude)&&window.utils.isNumber(t.coords.longitude)){e.next=2;break}return e.abrupt("return",Promise.resolve(null));case 2:return e.prev=2,e.next=6,fetch("".concat(window.utils.getEnvUrl(u),"/suggest3/geo/find?lat=").concat(t.coords.latitude.toFixed(2),"&lon=").concat(t.coords.longitude.toFixed(2),"&selected=",!0));case 6:return r=e.sent,e.next=9,window.utils.parseJSON(window.utils.checkResponseStatus(r));case 9:if(0===(n=e.sent).errorCode){e.next=12;break}throw new Error("Błędne dane w odpowiedzi. Kod błędu: ".concat(n.errorCode));case 12:return e.abrupt("return",Promise.resolve(n.items[0]));case 15:return e.prev=15,e.t0=e.catch(2),console.warn("Nie udało się pobrać lokalizacji.",e.t0),e.abrupt("return",Promise.resolve(null));case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=o(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",Promise.resolve(null));case 2:return e.prev=2,e.next=5,fetch("".concat(window.utils.getEnvUrl(s),"/ajax/city-article?cId=").concat(t,"&sgp2021=").concat(window.utils.getABTestVersion()),{headers:{"X-Requested-With":"XMLHttpRequest"}});case 5:return r=e.sent,e.next=8,window.utils.parseJSON(window.utils.checkResponseStatus(r));case 8:return n=e.sent,o=n&&n.id?n:null,e.abrupt("return",Promise.resolve(o));case 13:return e.prev=13,e.t0=e.catch(2),console.warn("Wczytywanie danych miejscowości nie powiodło się. Prosimy spróbować ponownie.",e.t0),e.abrupt("return",Promise.resolve(null));case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=e.currentTarget.getAttribute("data-time-of-the-day");if(t){var r;switch(t){case a.name:r=(a.time.to.hours-a.time.from.hours+1)/24;break;case i.name:r=(i.time.to.hours-i.time.from.hours+1)/24}window.Inpl.storage("is_".concat(t,"_meteo_clicked"),1,{expires:r})}},f=function(e){if(!e)return console.log("Widget Meteo: brak danych meteo"),null;var t=l();if(!t)return null;var r=document.createElement("li");r.className="news-li text weather-widget";var n,o="Pogoda dla ".concat(e.genitiveName," na ").concat({morning:"dzisiaj",evening:"jutro"}[t],", ").concat(c(t));switch(t){case a.name:default:n=e.id;break;case i.name:n=e.tomorrow?e.tomorrow.id:e.id}r.innerHTML='<a class="text-a" title="'.concat(o,'" data-time-of-the-day="').concat(t,'"\n                href="').concat(window.utils.getEnvUrl(s),"/news-pogoda-dla-").concat(window.utils.prepareLink(e.genitiveName),"-na-").concat(c(t,{delimiter:"-"}),",nId,").concat(n,'">\n            <span class="text">\n                <span class="tile-span-label color-bullets span-color-light-blue">METEO</span>\n                <span class="text-span">').concat(o,"</span>\n            </span>\n        </a>");var u=r.querySelector("a");return u.addEventListener("click",g),u.addEventListener("mousedown",g),r},h=function(){var e=o(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.Inpl.storage("weather-search-city"))||!t.id){e.next=5;break}return e.abrupt("return",Promise.resolve(t));case 5:return e.next=7,p();case 7:return r=e.sent,e.next=10,w(r);case 10:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),function(){var e=o(regeneratorRuntime.mark((function e(){var t,r,n,o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=l()){e.next=4;break}return e.abrupt("return");case 4:if(!window.Inpl.storage("is_".concat(t,"_meteo_clicked"))){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,h();case 8:return r=e.sent,console.log("Widget meteo - currentCity:",r),e.next=12,v(r.id);case 12:n=e.sent,console.log("Widget meteo - meteoArticleData:",n),o=document.querySelectorAll("[".concat("data-section-with-widget-meteo","] .news-li")),(a=o instanceof NodeList?o[9]:null)instanceof Node&&(i=f(n))&&a.parentNode.insertBefore(i,a),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log("Widget meteo: ",e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}()()}},[["6xJU","runtime","vendors"]]]);